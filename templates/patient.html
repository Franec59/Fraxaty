{% extends "base.html" %}

{% block styles %}
{{ super ()}}

<style>

{% if context == "detail" %}

.card-body input, select {
    border : none;
    text-transform: uppercase;
    pointer-events:none;
    font-weight:bold;
    font-size:1.2em;
}

{% endif %}

</style>


{% endblock styles %}

{% block main %}


<div class="container-fluid px-4">
{% if context == "detail" %}
<h1 class="mt-4">Détail Patient #{{patient_data.securite_sociale}}</h1>
{% endif %}
{% if context == "update" %}
<h1 class="mt-4">Mise à jour Patient</h1>
{% endif %}
{% if context == "creation" %}
<h1 class="mt-4">Création patient</h1>
{% endif %}
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
    <li class="breadcrumb-item"><a href="/patients">Patients</a></li>
    <li class="breadcrumb-item active">Détail patient</li>
</ol>

<div class="row gutters">
<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
<div class="card h-100">
	<div class="card-body">
		<div class="account-settings">

            {% if context == "detail" %}
			<div class="user-profile">
				<div class="user-avatar">
					<img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Maxwell Admin">
				</div>
				<!-- <h5 class="user-name">Yuki Hayashi</h5>
				<h6 class="user-email">yuki@Maxwell.com</h6> -->
			</div>
			<div class="about">
				<h5>Notes</h5>
				<p>Master en Biologie</p>
			</div>
            {% endif %}

            {% if context == "creation" %}
			<div class="about">
				<h5>Création Patient</h5>
				<p>Veuillez saisir les informations concernant l'patient</p>
			</div>
            {% endif %}

		</div>
	</div>
</div>
</div>
<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
<div class="card h-100">
	<div class="card-body">

        {% if context == "creation" or context == "update" %}
        <form action="/patient/traitement/{{context}}" method="POST">
        {% endif %}
        <div class="row gutters">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                <h6 class="mt-3 mb-2 text-primary">Informations personnelles</h6>
            </div>
            {% if context == "update" %}
                <input type="hidden" name="idpatient" value="{{patient_data.idpatient}}">
            {% endif %}
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                    <label for="nom">Nom de famille:</label>
                    <input class="form-control" type="text" value="{{patient_data.nom}}"  id="nom" name="nom" placeholder="Saisir le nom de famille" required>
                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                    <label for="prenom">Prénom:</label>
                    <input class="form-control" value="{{patient_data.prenom}}"  type="text"  id="prenom" name="prenom" required>
                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
                    <label for="naissance">Date de Naissance:</label>
                    <input class="form-control" value="{{patient_data.naissance}}"  type="tel" id="naissance" name="naissance" required>
                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
					<label for="sexe">Sexe:</label>
					<select name="sexe" class="form-control">
						<option value="M">Homme</option>
						<option value="F">Femme</option>
					</select>

                </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                <div class="form-group">
					<label for="naissance">Référent:</label>
					<select name="infirmier_idinfirmier" class="form-control">
						<option value="7">FRANCOISE DUPONT - 000114444</option>
					</select>
                </div>
            </div>

			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
				<div class="form-group">
					<label for="Street">Numéro Sécu :</label>
					<input value="{{patient_data.securite_sociale}}" class="form-control" type="number" id="numero" name="securite_sociale" required>
				</div>
			</div>

        </div>


		<div class="row gutters">
			<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
				<h6 class="mt-3 mb-2 text-primary">Addresse</h6>
			</div>
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
				<div class="form-group">
					<label for="Street">Numéro de Voie :</label>
					<input value="{{patient_data.numero}}" class="form-control" type="number" id="numero" name="numero" required>
				</div>
			</div>
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
				<div class="form-group">
					<label for="ciTy">Nom De la Voie :</label>
					<input value="{{patient_data.rue}}" class="form-control" type="text" id="rue" name="rue" required>
				</div>
			</div>
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
				<div class="form-group">
					<label for="cp">Code Postal:</label>
					<input value="{{patient_data.cp}}" class="form-control" type="number" id="cp" name="cp" required>
				</div>
			</div>
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
				<div class="form-group">
					<label for="ville">Ville</label>
					<input value="{{patient_data.ville}}" class="form-control" type="text" id="ville" name="ville" required>
				</div>
			</div>
		</div>
		<div class="row gutters">
			<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                {% if context == "creation" %}
				<div class="text-right">
					<a href="/patients" class="btn btn-secondary mr-3" role="button">Annuler</a>
					<button type="submit" name="valider" class="btn btn-primary">Valider</button>
				</div>
                {% endif %}

                {% if context == "update" %}
				<div class="text-right">
					<a href="/patient/detail/{{patient_data.idpatient}}" class="btn btn-secondary mr-3" role="button">Annuler</a>
					<button type="submit" name="valider" class="btn btn-primary">Mettre à jour</button>
				</div>
                {% endif %}

                {% if context == "detail" %}
				<div class="text-right">
					<a href="/patient/delete/{{patient_data.idpatient}}" class="btn btn-danger mr-3" role="button">Supprimer</a>
					<a href="/patient/update/{{patient_data.idpatient}}" class="btn btn-secondary" role="button">Modifier</a>
				</div>
                {% endif %}                
			</div>
		</div>

        {% if context == "creation" or context == "update" %}
        </form>
        {% endif %}

	</div>

</div>
</div>
</div>
</div>


{% endblock main %}